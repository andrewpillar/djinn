// Code generated by qtc from "variable_index.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line template/variable_index.qtpl:2
package template

//line template/variable_index.qtpl:2
import (
	"djinn-ci.com/template/form"
	"djinn-ci.com/variable"
)

//line template/variable_index.qtpl:8
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line template/variable_index.qtpl:8
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line template/variable_index.qtpl:9
type VariableIndex struct {
	*Paginator

	Unmasked  map[int64]struct{}
	Variables []*variable.Variable
}

//line template/variable_index.qtpl:18
func (p *VariableIndex) StreamTitle(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:18
	qw422016.N().S(`Variables`)
//line template/variable_index.qtpl:18
}

//line template/variable_index.qtpl:18
func (p *VariableIndex) WriteTitle(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:18
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:18
	p.StreamTitle(qw422016)
//line template/variable_index.qtpl:18
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:18
}

//line template/variable_index.qtpl:18
func (p *VariableIndex) Title() string {
//line template/variable_index.qtpl:18
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:18
	p.WriteTitle(qb422016)
//line template/variable_index.qtpl:18
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:18
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:18
	return qs422016
//line template/variable_index.qtpl:18
}

//line template/variable_index.qtpl:19
func (p *VariableIndex) StreamHeader(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:19
	p.StreamTitle(qw422016)
//line template/variable_index.qtpl:19
}

//line template/variable_index.qtpl:19
func (p *VariableIndex) WriteHeader(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:19
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:19
	p.StreamHeader(qw422016)
//line template/variable_index.qtpl:19
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:19
}

//line template/variable_index.qtpl:19
func (p *VariableIndex) Header() string {
//line template/variable_index.qtpl:19
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:19
	p.WriteHeader(qb422016)
//line template/variable_index.qtpl:19
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:19
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:19
	return qs422016
//line template/variable_index.qtpl:19
}

//line template/variable_index.qtpl:21
func (p *VariableIndex) StreamNavigation(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:21
}

//line template/variable_index.qtpl:21
func (p *VariableIndex) WriteNavigation(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:21
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:21
	p.StreamNavigation(qw422016)
//line template/variable_index.qtpl:21
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:21
}

//line template/variable_index.qtpl:21
func (p *VariableIndex) Navigation() string {
//line template/variable_index.qtpl:21
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:21
	p.WriteNavigation(qb422016)
//line template/variable_index.qtpl:21
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:21
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:21
	return qs422016
//line template/variable_index.qtpl:21
}

//line template/variable_index.qtpl:22
func (p *VariableIndex) StreamFooter(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:22
}

//line template/variable_index.qtpl:22
func (p *VariableIndex) WriteFooter(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:22
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:22
	p.StreamFooter(qw422016)
//line template/variable_index.qtpl:22
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:22
}

//line template/variable_index.qtpl:22
func (p *VariableIndex) Footer() string {
//line template/variable_index.qtpl:22
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:22
	p.WriteFooter(qb422016)
//line template/variable_index.qtpl:22
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:22
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:22
	return qs422016
//line template/variable_index.qtpl:22
}

//line template/variable_index.qtpl:24
func (p *VariableIndex) StreamActions(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:24
	qw422016.N().S(` `)
//line template/variable_index.qtpl:25
	if _, ok := p.User.Permissions["variable:write"]; ok {
//line template/variable_index.qtpl:25
		qw422016.N().S(` <li><a href="/variables/create" class="btn btn-primary">Create</a></li> `)
//line template/variable_index.qtpl:27
	}
//line template/variable_index.qtpl:27
	qw422016.N().S(` `)
//line template/variable_index.qtpl:28
}

//line template/variable_index.qtpl:28
func (p *VariableIndex) WriteActions(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:28
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:28
	p.StreamActions(qw422016)
//line template/variable_index.qtpl:28
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:28
}

//line template/variable_index.qtpl:28
func (p *VariableIndex) Actions() string {
//line template/variable_index.qtpl:28
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:28
	p.WriteActions(qb422016)
//line template/variable_index.qtpl:28
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:28
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:28
	return qs422016
//line template/variable_index.qtpl:28
}

//line template/variable_index.qtpl:30
func (p *VariableIndex) streamrenderVariableItem(qw422016 *qt422016.Writer, v *variable.Variable) {
//line template/variable_index.qtpl:30
	qw422016.N().S(` <tr> <td><span class="code">`)
//line template/variable_index.qtpl:32
	qw422016.E().S(v.Key)
//line template/variable_index.qtpl:32
	qw422016.N().S(`</span></td> <td><span class="code">`)
//line template/variable_index.qtpl:33
	qw422016.E().S(v.Value)
//line template/variable_index.qtpl:33
	qw422016.N().S(`</span></td> <td> `)
//line template/variable_index.qtpl:35
	if v.Namespace != nil {
//line template/variable_index.qtpl:35
		qw422016.N().S(` <a href="`)
//line template/variable_index.qtpl:36
		qw422016.E().S(v.Namespace.Endpoint())
//line template/variable_index.qtpl:36
		qw422016.N().S(`">`)
//line template/variable_index.qtpl:36
		qw422016.E().S(v.Namespace.Path)
//line template/variable_index.qtpl:36
		qw422016.N().S(`</a> `)
//line template/variable_index.qtpl:37
	} else {
//line template/variable_index.qtpl:37
		qw422016.N().S(` <span class="muted">--</span> `)
//line template/variable_index.qtpl:39
	}
//line template/variable_index.qtpl:39
	qw422016.N().S(` </td> <td class="align-right"> `)
//line template/variable_index.qtpl:42
	if _, ok := p.Unmasked[v.ID]; !ok && p.User.ID == v.AuthorID && v.Masked {
//line template/variable_index.qtpl:42
		qw422016.N().S(` <a class="btn btn-primary" href="`)
//line template/variable_index.qtpl:43
		qw422016.E().S(v.Endpoint("unmask"))
//line template/variable_index.qtpl:43
		qw422016.N().S(`">Unmask</a> `)
//line template/variable_index.qtpl:44
	}
//line template/variable_index.qtpl:44
	qw422016.N().S(` `)
//line template/variable_index.qtpl:45
	if _, ok := p.Unmasked[v.ID]; ok && v.Masked && p.User.ID == v.AuthorID {
//line template/variable_index.qtpl:45
		qw422016.N().S(` <form method="POST" action="`)
//line template/variable_index.qtpl:46
		qw422016.E().S(v.Endpoint("mask"))
//line template/variable_index.qtpl:46
		qw422016.N().S(`"> `)
//line template/variable_index.qtpl:47
		form.StreamMethod(qw422016, "PATCH")
//line template/variable_index.qtpl:47
		qw422016.N().S(` `)
//line template/variable_index.qtpl:48
		qw422016.N().V(p.CSRF)
//line template/variable_index.qtpl:48
		qw422016.N().S(` <button type="submit" class="btn btn-primary">Mask</button> </form> `)
//line template/variable_index.qtpl:51
	}
//line template/variable_index.qtpl:51
	qw422016.N().S(` `)
//line template/variable_index.qtpl:52
	if p.User.ID == v.UserID || v.Namespace != nil && v.Namespace.UserID == p.User.ID {
//line template/variable_index.qtpl:52
		qw422016.N().S(` <form method="POST" action="`)
//line template/variable_index.qtpl:53
		qw422016.E().S(v.Endpoint())
//line template/variable_index.qtpl:53
		qw422016.N().S(`"> `)
//line template/variable_index.qtpl:54
		form.StreamMethod(qw422016, "DELETE")
//line template/variable_index.qtpl:54
		qw422016.N().S(` `)
//line template/variable_index.qtpl:55
		qw422016.N().V(p.CSRF)
//line template/variable_index.qtpl:55
		qw422016.N().S(` <button type="submit" class="btn btn-danger">Delete</button> </form> `)
//line template/variable_index.qtpl:58
	}
//line template/variable_index.qtpl:58
	qw422016.N().S(` </td> </tr> `)
//line template/variable_index.qtpl:61
}

//line template/variable_index.qtpl:61
func (p *VariableIndex) writerenderVariableItem(qq422016 qtio422016.Writer, v *variable.Variable) {
//line template/variable_index.qtpl:61
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:61
	p.streamrenderVariableItem(qw422016, v)
//line template/variable_index.qtpl:61
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:61
}

//line template/variable_index.qtpl:61
func (p *VariableIndex) renderVariableItem(v *variable.Variable) string {
//line template/variable_index.qtpl:61
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:61
	p.writerenderVariableItem(qb422016, v)
//line template/variable_index.qtpl:61
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:61
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:61
	return qs422016
//line template/variable_index.qtpl:61
}

//line template/variable_index.qtpl:63
func (p *VariableIndex) StreamBody(qw422016 *qt422016.Writer) {
//line template/variable_index.qtpl:63
	qw422016.N().S(` <div class="panel"> `)
//line template/variable_index.qtpl:65
	if len(p.Variables) == 0 {
//line template/variable_index.qtpl:65
		qw422016.N().S(` `)
//line template/variable_index.qtpl:66
		if query := p.Query.Get("search"); query != "" {
//line template/variable_index.qtpl:66
			qw422016.N().S(` <div class="panel-header">`)
//line template/variable_index.qtpl:67
			p.StreamSearch(qw422016, "Find a variable...")
//line template/variable_index.qtpl:67
			qw422016.N().S(`</div> <div class="panel-message muted">No results found.</div> `)
//line template/variable_index.qtpl:69
		} else {
//line template/variable_index.qtpl:69
			qw422016.N().S(` <div class="panel-message muted"> Set variables that can be used throughout build environments. </div> `)
//line template/variable_index.qtpl:73
		}
//line template/variable_index.qtpl:73
		qw422016.N().S(` `)
//line template/variable_index.qtpl:74
	} else {
//line template/variable_index.qtpl:74
		qw422016.N().S(` <div class="panel-header">`)
//line template/variable_index.qtpl:75
		p.StreamSearch(qw422016, "Find a variable...")
//line template/variable_index.qtpl:75
		qw422016.N().S(`</div> <table class="table"> <thead> <tr> <th>KEY</th> <th>VALUE</th> <th>NAMESPACE</th> <th></th> <th></th> </tr> </thead> <tbody> `)
//line template/variable_index.qtpl:87
		for _, v := range p.Variables {
//line template/variable_index.qtpl:87
			qw422016.N().S(` `)
//line template/variable_index.qtpl:88
			p.streamrenderVariableItem(qw422016, v)
//line template/variable_index.qtpl:88
			qw422016.N().S(` `)
//line template/variable_index.qtpl:89
		}
//line template/variable_index.qtpl:89
		qw422016.N().S(` </tbody> </table> `)
//line template/variable_index.qtpl:92
	}
//line template/variable_index.qtpl:92
	qw422016.N().S(` </div> `)
//line template/variable_index.qtpl:94
	p.Paginator.StreamNavigation(qw422016)
//line template/variable_index.qtpl:94
	qw422016.N().S(` `)
//line template/variable_index.qtpl:95
}

//line template/variable_index.qtpl:95
func (p *VariableIndex) WriteBody(qq422016 qtio422016.Writer) {
//line template/variable_index.qtpl:95
	qw422016 := qt422016.AcquireWriter(qq422016)
//line template/variable_index.qtpl:95
	p.StreamBody(qw422016)
//line template/variable_index.qtpl:95
	qt422016.ReleaseWriter(qw422016)
//line template/variable_index.qtpl:95
}

//line template/variable_index.qtpl:95
func (p *VariableIndex) Body() string {
//line template/variable_index.qtpl:95
	qb422016 := qt422016.AcquireByteBuffer()
//line template/variable_index.qtpl:95
	p.WriteBody(qb422016)
//line template/variable_index.qtpl:95
	qs422016 := string(qb422016.B)
//line template/variable_index.qtpl:95
	qt422016.ReleaseByteBuffer(qb422016)
//line template/variable_index.qtpl:95
	return qs422016
//line template/variable_index.qtpl:95
}
